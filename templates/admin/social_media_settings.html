{% extends "admin/base_admin.html" %}

{% block title %}Social Media & Branding Settings - Admin{% endblock %}

{% block content %}
<div class="container mx-auto px-4 py-8">
    <div class="max-w-4xl mx-auto">
        <!-- Header -->
        <div class="mb-8">
            <h1 class="text-3xl font-bold text-gray-900 mb-2">
                <i class="fas fa-share-alt text-primary mr-3"></i>Social Media & Branding Settings
            </h1>
            <p class="text-gray-600">Manage your social media links, logos, and branding information</p>
        </div>

        <!-- Flash Messages -->
        {% with messages = get_flashed_messages(with_categories=true) %}
            {% if messages %}
                {% for category, message in messages %}
                    <div class="mb-4 p-4 rounded-lg {% if category == 'success' %}bg-green-100 text-green-700 border border-green-300{% elif category == 'error' %}bg-red-100 text-red-700 border border-red-300{% else %}bg-blue-100 text-blue-700 border border-blue-300{% endif %}">
                        {{ message }}
                    </div>
                {% endfor %}
            {% endif %}
        {% endwith %}

        <form method="POST" enctype="multipart/form-data" class="space-y-8">
            <!-- Branding Section -->
            <div class="bg-white rounded-lg shadow-md p-6">
                <h2 class="text-xl font-semibold text-gray-900 mb-4">
                    <i class="fas fa-building text-primary mr-2"></i>Branding Information
                </h2>
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div>
                        <label for="company_name" class="block text-sm font-medium text-gray-700 mb-2">Company Name</label>
                        <input type="text" id="company_name" name="company_name" 
                               value="{{ settings.get('company_name', 'FitSmart') }}"
                               class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent">
                    </div>
                    
                    <div>
                        <label for="company_tagline" class="block text-sm font-medium text-gray-700 mb-2">Company Tagline</label>
                        <input type="text" id="company_tagline" name="company_tagline" 
                               value="{{ settings.get('company_tagline', 'Healthy Meal Delivery') }}"
                               class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent">
                    </div>
                    
                    <div>
                        <label for="company_email" class="block text-sm font-medium text-gray-700 mb-2">Company Email</label>
                        <input type="email" id="company_email" name="company_email" 
                               value="{{ settings.get('company_email', 'info@fitsmart.ca') }}"
                               class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent">
                    </div>
                    
                    <div>
                        <label for="company_phone" class="block text-sm font-medium text-gray-700 mb-2">Company Phone</label>
                        <input type="text" id="company_phone" name="company_phone" 
                               value="{{ settings.get('company_phone', '+1 (647) 573-2429') }}"
                               class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent">
                    </div>
                    
                    <div class="md:col-span-2">
                        <label for="company_address" class="block text-sm font-medium text-gray-700 mb-2">Company Address</label>
                        <textarea id="company_address" name="company_address" rows="2"
                                  class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent">{{ settings.get('company_address', 'Ludhiana, Punjab, India') }}</textarea>
                    </div>
                </div>
            </div>

            <!-- Logo & Favicon Section -->
            <div class="bg-white rounded-lg shadow-md p-6">
                <h2 class="text-xl font-semibold text-gray-900 mb-4">
                    <i class="fas fa-image text-primary mr-2"></i>Logo & Favicon
                </h2>
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <!-- Logo Upload -->
                    <div>
                        <label for="site_logo" class="block text-sm font-medium text-gray-700 mb-2">Site Logo</label>
                        <div class="flex items-center space-x-4">
                            {% if settings.get('site_logo') %}
                                <img src="{{ settings.get('site_logo') }}" alt="Current Logo" class="w-16 h-16 object-contain border border-gray-300 rounded">
                            {% endif %}
                            <input type="file" id="site_logo" name="site_logo" accept=".png,.jpg,.jpeg,.gif,.svg"
                                   class="flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent">
                        </div>
                        <p class="text-xs text-gray-500 mt-1">Recommended: PNG, JPG, JPEG, GIF, or SVG. Max size: 2MB</p>
                    </div>
                    
                    <!-- Favicon Upload -->
                    <div>
                        <label for="site_favicon" class="block text-sm font-medium text-gray-700 mb-2">Site Favicon</label>
                        <div class="flex items-center space-x-4">
                            {% if settings.get('site_favicon') %}
                                <img src="{{ settings.get('site_favicon') }}" alt="Current Favicon" class="w-8 h-8 object-contain border border-gray-300 rounded">
                            {% endif %}
                            <input type="file" id="site_favicon" name="site_favicon" accept=".ico,.png,.jpg,.jpeg"
                                   class="flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent">
                        </div>
                        <p class="text-xs text-gray-500 mt-1">Recommended: ICO, PNG, JPG, or JPEG. Max size: 1MB</p>
                    </div>
                </div>
            </div>

            <!-- Social Media Links Section -->
            <div class="bg-white rounded-lg shadow-md p-6">
                <h2 class="text-xl font-semibold text-gray-900 mb-4">
                    <i class="fab fa-instagram text-primary mr-2"></i>Social Media Links
                </h2>
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <!-- Instagram -->
                    <div>
                        <label for="instagram_url" class="block text-sm font-medium text-gray-700 mb-2">
                            <i class="fab fa-instagram text-pink-500 mr-2"></i>Instagram URL
                        </label>
                        <input type="url" id="instagram_url" name="instagram_url" 
                               value="{{ settings.get('instagram_url', 'https://instagram.com/healthy.india') }}"
                               placeholder="https://instagram.com/your-handle"
                               class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent">
                    </div>
                    
                    <!-- Facebook -->
                    <div>
                        <label for="facebook_url" class="block text-sm font-medium text-gray-700 mb-2">
                            <i class="fab fa-facebook text-blue-600 mr-2"></i>Facebook URL
                        </label>
                        <input type="url" id="facebook_url" name="facebook_url" 
                               value="{{ settings.get('facebook_url', 'https://facebook.com/fitsmart') }}"
                               placeholder="https://facebook.com/your-page"
                               class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent">
                    </div>
                    
                    <!-- Twitter -->
                    <div>
                        <label for="twitter_url" class="block text-sm font-medium text-gray-700 mb-2">
                            <i class="fab fa-twitter text-blue-400 mr-2"></i>Twitter URL
                        </label>
                        <input type="url" id="twitter_url" name="twitter_url" 
                               value="{{ settings.get('twitter_url', '') }}"
                               placeholder="https://twitter.com/your-handle"
                               class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent">
                    </div>
                    
                    <!-- LinkedIn -->
                    <div>
                        <label for="linkedin_url" class="block text-sm font-medium text-gray-700 mb-2">
                            <i class="fab fa-linkedin text-blue-700 mr-2"></i>LinkedIn URL
                        </label>
                        <input type="url" id="linkedin_url" name="linkedin_url" 
                               value="{{ settings.get('linkedin_url', '') }}"
                               placeholder="https://linkedin.com/company/your-company"
                               class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent">
                    </div>
                    
                    <!-- YouTube -->
                    <div>
                        <label for="youtube_url" class="block text-sm font-medium text-gray-700 mb-2">
                            <i class="fab fa-youtube text-red-600 mr-2"></i>YouTube URL
                        </label>
                        <input type="url" id="youtube_url" name="youtube_url" 
                               value="{{ settings.get('youtube_url', '') }}"
                               placeholder="https://youtube.com/@your-channel"
                               class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent">
                    </div>
                </div>
            </div>

            <!-- WhatsApp Settings Section -->
            <div class="bg-white rounded-lg shadow-md p-6">
                <h2 class="text-xl font-semibold text-gray-900 mb-4">
                    <i class="fab fa-whatsapp text-green-500 mr-2"></i>WhatsApp Settings
                </h2>
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div>
                        <label for="whatsapp_number" class="block text-sm font-medium text-gray-700 mb-2">WhatsApp Number</label>
                        <input type="text" id="whatsapp_number" name="whatsapp_number" 
                               value="{{ settings.get('whatsapp_number', '+919876543210') }}"
                               placeholder="+919876543210"
                               class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent">
                        <p class="text-xs text-gray-500 mt-1">Include country code (e.g., +91 for India)</p>
                    </div>
                    
                    <div>
                        <label for="whatsapp_message" class="block text-sm font-medium text-gray-700 mb-2">Default WhatsApp Message</label>
                        <input type="text" id="whatsapp_message" name="whatsapp_message" 
                               value="{{ settings.get('whatsapp_message', 'Hi! I\'m interested in your healthy meal plans.') }}"
                               placeholder="Default message when users click WhatsApp button"
                               class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent">
                    </div>
                </div>
            </div>

            <!-- Display Options Section -->
            <div class="bg-white rounded-lg shadow-md p-6">
                <h2 class="text-xl font-semibold text-gray-900 mb-4">
                    <i class="fas fa-eye text-primary mr-2"></i>Display Options
                </h2>
                
                <div class="space-y-4">
                    <div class="flex items-center">
                        <input type="checkbox" id="show_social_links" name="show_social_links" 
                               {% if settings.get('show_social_links') == 'True' %}checked{% endif %}
                               class="h-4 w-4 text-primary focus:ring-primary border-gray-300 rounded">
                        <label for="show_social_links" class="ml-2 block text-sm text-gray-900">
                            Show social media links in footer
                        </label>
                    </div>
                    
                    <div class="flex items-center">
                        <input type="checkbox" id="show_whatsapp_button" name="show_whatsapp_button" 
                               {% if settings.get('show_whatsapp_button') == 'True' %}checked{% endif %}
                               class="h-4 w-4 text-primary focus:ring-primary border-gray-300 rounded">
                        <label for="show_whatsapp_button" class="ml-2 block text-sm text-gray-900">
                            Show WhatsApp floating button
                        </label>
                    </div>
                </div>
            </div>

            <!-- Submit Button -->
            <div class="flex justify-end space-x-4">
                <a href="{{ url_for('admin.admin_dashboard') }}" 
                   class="px-6 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary">
                    Cancel
                </a>
                <button type="submit" 
                        class="px-6 py-2 bg-primary text-white rounded-md hover:bg-primary-dark focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary">
                    <i class="fas fa-save mr-2"></i>Save Settings
                </button>
            </div>
        </form>
    </div>
</div>
{% endblock %} 