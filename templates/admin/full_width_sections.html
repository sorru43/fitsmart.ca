{% extends "admin/base_admin.html" %}

{% block title %}Full-Width Sections - Admin{% endblock %}

{% block content %}
<div class="container mx-auto px-4 py-8">
    <div class="flex justify-between items-center mb-6">
        <h1 class="text-3xl font-bold text-white">Full-Width Sections</h1>
        <a href="{{ url_for('admin.admin_add_full_width_section') }}" 
           class="bg-primary hover:bg-primary-dark text-white px-4 py-2 rounded-md transition-colors duration-300">
            <i class="fas fa-plus mr-2"></i>Add New Section
        </a>
    </div>

    {% if sections %}
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
            {% for section in sections %}
            <div class="bg-dark border border-gray-700 rounded-lg overflow-hidden shadow-lg">
                <!-- Section Image -->
                <div class="relative h-48 bg-gray-800">
                    <img src="{{ section.image_url }}" 
                         alt="{{ section.title or 'Full-width section' }}" 
                         class="w-full h-full object-cover">
                    <div class="absolute top-2 right-2">
                        {% if section.is_active %}
                            <span class="bg-green-500 text-white px-2 py-1 rounded-full text-xs">Active</span>
                        {% else %}
                            <span class="bg-red-500 text-white px-2 py-1 rounded-full text-xs">Inactive</span>
                        {% endif %}
                    </div>
                </div>

                <!-- Section Details -->
                <div class="p-4">
                    <h3 class="text-lg font-semibold text-white mb-2">
                        {{ section.title or 'Untitled Section' }}
                    </h3>
                    
                    <div class="space-y-2 text-sm text-gray-300">
                        <p><strong>Order:</strong> {{ section.order }}</p>
                        {% if section.button_text %}
                            <p><strong>Button:</strong> {{ section.button_text }}</p>
                        {% endif %}
                        {% if section.image_link_url %}
                            <p><strong>Image Link:</strong> <span class="text-primary">{{ section.image_link_url[:30] }}...</span></p>
                        {% endif %}
                        <p><strong>Created:</strong> {{ section.created_at.strftime('%Y-%m-%d') }}</p>
                    </div>

                    <!-- Action Buttons -->
                    <div class="flex space-x-2 mt-4">
                        <a href="{{ url_for('admin.admin_edit_full_width_section', id=section.id) }}" 
                           class="bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded text-sm transition-colors duration-300">
                            <i class="fas fa-edit mr-1"></i>Edit
                        </a>
                        
                        <form method="POST" action="{{ url_for('admin.admin_toggle_full_width_section', id=section.id) }}" 
                              class="inline">
                            <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">
                            <button type="submit" 
                                    class="{% if section.is_active %}bg-yellow-600 hover:bg-yellow-700{% else %}bg-green-600 hover:bg-green-700{% endif %} text-white px-3 py-1 rounded text-sm transition-colors duration-300">
                                <i class="fas {% if section.is_active %}fa-eye-slash{% else %}fa-eye{% endif %} mr-1"></i>
                                {% if section.is_active %}Deactivate{% else %}Activate{% endif %}
                            </button>
                        </form>
                        
                        <form method="POST" action="{{ url_for('admin.admin_delete_full_width_section', id=section.id) }}" 
                              class="inline" onsubmit="return confirm('Are you sure you want to delete this section?')">
                            <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">
                            <button type="submit" 
                                    class="bg-red-600 hover:bg-red-700 text-white px-3 py-1 rounded text-sm transition-colors duration-300">
                                <i class="fas fa-trash mr-1"></i>Delete
                            </button>
                        </form>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
    {% else %}
        <div class="text-center py-12">
            <div class="text-gray-400 text-6xl mb-4">
                <i class="fas fa-image"></i>
            </div>
            <h3 class="text-xl font-semibold text-white mb-2">No Full-Width Sections</h3>
            <p class="text-gray-400 mb-6">Create your first full-width image section to display on the homepage.</p>
            <a href="{{ url_for('admin.admin_add_full_width_section') }}" 
               class="bg-primary hover:bg-primary-dark text-white px-6 py-3 rounded-md transition-colors duration-300">
                <i class="fas fa-plus mr-2"></i>Add First Section
            </a>
        </div>
    {% endif %}
</div>
{% endblock %} 