<!-- Testimonials Section -->
<section class="py-16 md:py-24 bg-darker">
    <div class="container mx-auto px-4">
        <div class="text-center mb-12 md:mb-16 fade-in">
            <h2 class="text-3xl md:text-4xl font-bold mb-4 relative inline-block">
                Success <span class="text-primary">Stories</span>
                <div class="absolute left-0 right-0 bottom-0 h-1 bg-primary rounded-full transform -translate-y-2"></div>
            </h2>
        </div>
        
        <!-- Testimonials Carousel -->
        <div class="relative max-w-6xl mx-auto px-4">
            <!-- Navigation Buttons -->
            <button class="absolute left-0 top-1/2 transform -translate-y-1/2 -translate-x-4 md:-translate-x-10 z-10 testimonial-prev bg-dark-3 hover:bg-primary text-white p-2 rounded-full shadow-lg transition-all duration-300 focus:outline-none hidden md:block">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
                </svg>
            </button>
            
            <button class="absolute right-0 top-1/2 transform -translate-y-1/2 translate-x-4 md:translate-x-10 z-10 testimonial-next bg-dark-3 hover:bg-primary text-white p-2 rounded-full shadow-lg transition-all duration-300 focus:outline-none hidden md:block">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                </svg>
            </button>
            
            <!-- Carousel Container -->
            <div class="overflow-hidden">
                <div id="testimonial-slider" class="flex transition-all duration-500 ease-in-out">
                    <!-- Testimonial 1 -->
                    <div class="testimonial-slide w-full md:w-1/3 flex-shrink-0 px-4">
                        <div class="bg-dark-3 p-6 md:p-8 rounded-xl shadow-lg border border-gray-800 hover:border-primary transition-duration-300 h-full">
                            <div class="flex flex-col h-full">
                                <div class="mb-6">
                                    <div class="flex text-yellow-400 mb-4">
                                        <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path></svg>
                                        <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path></svg>
                                        <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path></svg>
                                        <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path></svg>
                                        <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path></svg>
                                    </div>
                                    <blockquote class="text-gray-300 text-lg italic mb-6">
                                        "HealthyRizz has completely transformed my approach to healthy eating. The meals are not only delicious but perfectly portioned. I've lost 15 pounds in just 2 months, and I feel more energetic than ever!"
                                    </blockquote>
                                </div>
                                
                                <div class="mt-auto flex items-center">
                                    <div class="w-12 h-12 bg-primary/20 rounded-full flex items-center justify-center text-primary font-bold">SM</div>
                                    <div class="ml-4">
                                        <h4 class="text-lg font-bold">Shina Mehra</h4>
                                        <p class="text-sm text-primary">Lost 15 lbs in 2 months</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Testimonial 2 -->
                    <div class="testimonial-slide w-full md:w-1/3 flex-shrink-0 px-4">
                        <div class="bg-dark-3 p-6 md:p-8 rounded-xl shadow-lg border border-gray-800 hover:border-primary transition-duration-300 h-full">
                            <div class="flex flex-col h-full">
                                <div class="mb-6">
                                    <div class="flex text-yellow-400 mb-4">
                                        <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path></svg>
                                        <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path></svg>
                                        <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path></svg>
                                        <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path></svg>
                                        <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path></svg>
                                    </div>
                                    <blockquote class="text-gray-300 text-lg italic mb-6">
                                        "As an athlete, I need proper nutrition to perform at my best. HealthyRizz's Athletic Plan gives me all the protein and nutrients I need. The food is fresh and tastes amazing. Game changer for my training!"
                                    </blockquote>
                                </div>
                                
                                <div class="mt-auto flex items-center">
                                    <div class="w-12 h-12 bg-primary/20 rounded-full flex items-center justify-center text-primary font-bold">JT</div>
                                    <div class="ml-4">
                                        <h4 class="text-lg font-bold">James Thompson</h4>
                                        <p class="text-sm text-primary">Marathon Runner</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Testimonial 3 -->
                    <div class="testimonial-slide w-full md:w-1/3 flex-shrink-0 px-4">
                        <div class="bg-dark-3 p-6 md:p-8 rounded-xl shadow-lg border border-gray-800 hover:border-primary transition-duration-300 h-full">
                            <div class="flex flex-col h-full">
                                <div class="mb-6">
                                    <div class="flex text-yellow-400 mb-4">
                                        <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path></svg>
                                        <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path></svg>
                                        <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path></svg>
                                        <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path></svg>
                                        <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path></svg>
                                    </div>
                                    <blockquote class="text-gray-300 text-lg italic mb-6">
                                        "Finding healthy vegetarian meals was always a challenge until I discovered HealthyRizz. Their Vegetarian Plan is perfect - varied, protein-rich, and absolutely delicious. I'm recommending it to all my friends!"
                                    </blockquote>
                                </div>
                                
                                <div class="mt-auto flex items-center">
                                    <div class="w-12 h-12 bg-primary/20 rounded-full flex items-center justify-center text-primary font-bold">AK</div>
                                    <div class="ml-4">
                                        <h4 class="text-lg font-bold">Amelia Kingsley</h4>
                                        <p class="text-sm text-primary">Vegetarian for 5+ years</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Mobile Navigation -->
            <div class="flex justify-center mt-6 space-x-4 md:hidden">
                <button class="testimonial-prev bg-dark-3 hover:bg-primary text-white p-3 rounded-full shadow-lg transition-all duration-300 focus:outline-none">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
                    </svg>
                </button>
                <button class="testimonial-next bg-dark-3 hover:bg-primary text-white p-3 rounded-full shadow-lg transition-all duration-300 focus:outline-none">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                    </svg>
                </button>
            </div>
            
            <!-- Dots Navigation -->
            <div id="testimonial-dots" class="flex justify-center mt-8 space-x-2">
                <button class="w-3 h-3 rounded-full bg-primary transition-all duration-300"></button>
                <button class="w-3 h-3 rounded-full bg-gray-600 transition-all duration-300"></button>
                <button class="w-3 h-3 rounded-full bg-gray-600 transition-all duration-300"></button>
            </div>
        </div>
        

    </div>
</section>

<style>
.testimonial-slide {
    transition: transform 0.5s ease-in-out;
    flex: 0 0 auto;
}
#testimonial-slider {
    display: flex;
    transition: transform 0.5s ease-in-out;
    width: 300%;
}
.testimonial-prev:focus, .testimonial-next:focus, #testimonial-dots button:focus {
    outline: none;
}
/* Fix for mobile */
@media (max-width: 768px) {
    #testimonial-slider {
        width: 100%;
    }
    .testimonial-slide {
        width: 100%;
    }
}
</style>

<script>
document.addEventListener('DOMContentLoaded', function() {
    // Get all carousel elements
    const slider = document.getElementById('testimonial-slider');
    if (!slider) return; // Exit if slider doesn't exist
    
    const slides = document.querySelectorAll('.testimonial-slide');
    if (slides.length === 0) return; // Exit if no slides
    
    const dotsContainer = document.getElementById('testimonial-dots');
    const dots = dotsContainer ? dotsContainer.querySelectorAll('button') : [];
    const prevButtons = document.querySelectorAll('.testimonial-prev');
    const nextButtons = document.querySelectorAll('.testimonial-next');
    
    let currentSlide = 0;
    const totalSlides = slides.length;
    let autoSlideInterval;
    
    // Set up the slider width based on screen size
    function setupSlider() {
        const isMobile = window.innerWidth < 768;
        
        // For mobile: one slide at a time (100%)
        // For desktop: show 3 slides (33.333% each)
        if (isMobile) {
            slider.style.width = '100%';
            slides.forEach(slide => {
                slide.style.width = '100%';
            });
        } else {
            slider.style.width = `${totalSlides * 100}%`;
            slides.forEach(slide => {
                slide.style.width = `${100 / totalSlides}%`;
            });
        }
        
        // Initialize the first slide
        goToSlide(0);
    }
    
    // Move to a specific slide
    function goToSlide(index) {
        if (!slider) return;
        
        currentSlide = index;
        
        // On mobile, move full width. On desktop, move 1/3 width per slide
        const isMobile = window.innerWidth < 768;
        const slideWidth = isMobile ? 100 : (100 / totalSlides);
        
        slider.style.transform = `translateX(-${currentSlide * slideWidth}%)`;
        
        // Update dots if they exist
        if (dots.length > 0) {
            dots.forEach((dot, idx) => {
                if (idx === currentSlide) {
                    dot.classList.remove('bg-gray-600');
                    dot.classList.add('bg-primary');
                } else {
                    dot.classList.remove('bg-primary');
                    dot.classList.add('bg-gray-600');
                }
            });
        }
    }
    
    // Go to next slide
    function nextSlide() {
        currentSlide = (currentSlide + 1) % totalSlides;
        goToSlide(currentSlide);
    }
    
    // Go to previous slide
    function prevSlide() {
        currentSlide = (currentSlide - 1 + totalSlides) % totalSlides;
        goToSlide(currentSlide);
    }
    
    // Initialize the slider
    setupSlider();
    
    // Add event listeners to previous/next buttons
    prevButtons.forEach(btn => {
        btn.addEventListener('click', () => {
            clearInterval(autoSlideInterval);
            prevSlide();
            startAutoSlide();
        });
    });
    
    nextButtons.forEach(btn => {
        btn.addEventListener('click', () => {
            clearInterval(autoSlideInterval);
            nextSlide();
            startAutoSlide();
        });
    });
    
    // Add event listeners to dots if they exist
    if (dots.length > 0) {
        dots.forEach((dot, index) => {
            dot.addEventListener('click', () => {
                clearInterval(autoSlideInterval);
                goToSlide(index);
                startAutoSlide();
            });
        });
    }
    
    // Touch events for mobile swiping
    let touchStartX = 0;
    let touchEndX = 0;
    
    slider.addEventListener('touchstart', (e) => {
        touchStartX = e.touches[0].clientX;
        clearInterval(autoSlideInterval);
    }, false);
    
    slider.addEventListener('touchmove', (e) => {
        touchEndX = e.touches[0].clientX;
    }, false);
    
    slider.addEventListener('touchend', () => {
        const difference = touchStartX - touchEndX;
        if (Math.abs(difference) > 50) { // Minimum swipe distance
            if (difference > 0) {
                nextSlide(); // Swipe left = next slide
            } else {
                prevSlide(); // Swipe right = previous slide
            }
        }
        startAutoSlide();
    }, false);
    
    // Handle window resize
    window.addEventListener('resize', () => {
        setupSlider();
    });
    
    // Auto-slide functionality
    function startAutoSlide() {
        clearInterval(autoSlideInterval);
        autoSlideInterval = setInterval(nextSlide, 5000);
    }
    
    // Start auto-sliding
    startAutoSlide();
    
    // Debug log to verify initialization
    console.log('Testimonial slider initialized with', totalSlides, 'slides');
});
</script>