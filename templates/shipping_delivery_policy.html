{% extends 'base.html' %}

{% block title %}Shipping & Delivery Policy - FitSmart{% endblock %}

{% block content %}
<main class="bg-gray-900 py-16 md:py-20">
    <div class="container mx-auto px-4 sm:px-6 lg:px-8">
        <div class="max-w-4xl mx-auto bg-darker rounded-lg shadow-lg p-8 md:p-12 border border-gray-700">
            <h1 class="text-3xl md:text-4xl font-bold text-white mb-6 text-center">
                <i class="fas fa-truck text-primary mr-3"></i>Shipping & Delivery Policy
            </h1>
            
            <div class="prose prose-lg text-gray-300 mx-auto">
                <p class="text-lg mb-6">At FitSmart, we ensure fresh, healthy meals are delivered to your doorstep across Canada with care and precision. This policy outlines our delivery standards, areas, and procedures.</p>
                
                <p class="text-sm text-gray-400 mb-8">Last updated: {{ now.strftime('%B %d, %Y') }}</p>
                
                <h3 class="text-xl font-semibold text-white mt-8 mb-4">
                    <i class="fas fa-map-marker-alt text-primary mr-2"></i>Delivery Areas
                </h3>
                <div class="bg-gray-800 rounded-lg p-6 mb-6">
                    {% if locations_by_province %}
                        <div class="space-y-4">
                            {% for province_code, cities in locations_by_province.items() %}
                                <div class="border-l-4 border-primary pl-4 py-2">
                                    <h5 class="text-white font-semibold mb-2">
                                        <i class="fas fa-map-pin text-primary mr-2"></i>
                                        {{ province_names.get(province_code, province_code) }} ({{ province_code }})
                                    </h5>
                                    <div class="flex flex-wrap gap-2">
                                        {% for city in cities %}
                                            <span class="inline-block bg-gray-700 text-gray-200 px-3 py-1 rounded-md text-sm">
                                                {{ city }}
                                            </span>
                                        {% endfor %}
                                    </div>
                                </div>
                            {% endfor %}
                        </div>
                        <p class="text-sm text-gray-400 bg-blue-900 bg-opacity-20 border border-blue-700 rounded-lg p-3 mt-6">
                            <i class="fas fa-info-circle text-blue-400 mr-2"></i>
                            Don't see your area? <a href="{{ url_for('main.contact') }}" class="text-primary hover:underline">Contact us</a> to check availability. We're continuously expanding our delivery network across Canada.
                        </p>
                    {% else %}
                        <div class="bg-yellow-900 bg-opacity-20 border border-yellow-700 rounded-lg p-4 mb-4">
                            <h4 class="text-lg font-medium text-white mb-2">
                                <i class="fas fa-exclamation-triangle text-yellow-400 mr-2"></i>Delivery Locations Being Updated
                            </h4>
                            <p class="text-gray-300 text-sm">
                                Our delivery locations are currently being updated. Please <a href="{{ url_for('main.contact') }}" class="text-primary hover:underline">contact us</a> to check if we deliver to your area.
                            </p>
                        </div>
                        <p class="text-sm text-gray-400 bg-blue-900 bg-opacity-20 border border-blue-700 rounded-lg p-3">
                            <i class="fas fa-info-circle text-blue-400 mr-2"></i>
                            We're continuously expanding our delivery network across Canada. Contact us to check availability in your area.
                        </p>
                    {% endif %}
                </div>

                <h3 class="text-xl font-semibold text-white mt-8 mb-4">
                    <i class="fas fa-clock text-primary mr-2"></i>Delivery Schedule
                </h3>
                <div class="bg-gray-800 rounded-lg p-6 mb-6">
                    <div class="bg-primary bg-opacity-10 border border-primary rounded-lg p-4 mb-4">
                        <h4 class="text-lg font-medium text-white mb-3">
                            <i class="fas fa-calendar-day text-primary mr-2"></i>Delivery Timing
                        </h4>
                        <p class="text-gray-300 mb-3">
                            <strong>We deliver all your meals (breakfast, lunch, and dinner) together one day before consumption in the evening.</strong> 
                            This ensures you have fresh meals ready for the entire next day.
                        </p>
                        <ul class="space-y-2 text-gray-300">
                            <li><i class="fas fa-moon text-primary mr-2"></i><strong>Evening Delivery:</strong> 5:00 PM - 9:00 PM (Local Time)</li>
                            <li><i class="fas fa-utensils text-primary mr-2"></i><strong>All Meals Included:</strong> Breakfast, Lunch, and Dinner delivered together in one package</li>
                            <li><i class="fas fa-calendar-day text-primary mr-2"></i>Meals are prepared fresh and delivered the evening before your consumption day</li>
                            <li><i class="fas fa-check text-primary mr-2"></i>Temperature-controlled delivery in insulated packaging</li>
                            <li><i class="fas fa-snowflake text-primary mr-2"></i>Proper storage instructions included with each delivery</li>
                        </ul>
                    </div>
                    <div class="bg-blue-900 bg-opacity-20 border border-blue-700 rounded-lg p-4">
                        <h5 class="text-white font-medium mb-2">
                            <i class="fas fa-info-circle text-blue-400 mr-2"></i>Example Schedule
                        </h5>
                        <p class="text-gray-300 text-sm">
                            If you need meals for <strong>Tuesday</strong> (breakfast, lunch, and dinner), we will deliver all three meals together on <strong>Monday evening</strong>. 
                            This gives you time to store them properly in your refrigerator and have them ready for consumption throughout the next day.
                        </p>
                    </div>
                </div>

                <h3 class="text-xl font-semibold text-white mt-8 mb-4">
                    <i class="fas fa-shipping-fast text-primary mr-2"></i>Delivery Process
                </h3>
                <div class="bg-gray-800 rounded-lg p-6 mb-6">
                    <div class="grid md:grid-cols-3 gap-4">
                        <div class="text-center">
                            <div class="w-12 h-12 bg-primary rounded-full flex items-center justify-center mx-auto mb-3">
                                <i class="fas fa-calendar text-white"></i>
                            </div>
                            <h5 class="font-medium text-white mb-2">1. Flexible Scheduling</h5>
                            <p class="text-sm text-gray-300">Choose your preferred delivery days and times through your account</p>
                        </div>
                        <div class="text-center">
                            <div class="w-12 h-12 bg-primary rounded-full flex items-center justify-center mx-auto mb-3">
                                <i class="fas fa-utensils text-white"></i>
                            </div>
                            <h5 class="font-medium text-white mb-2">2. Fresh Preparation</h5>
                            <p class="text-sm text-gray-300">Meals prepared fresh daily using quality Canadian ingredients</p>
                        </div>
                        <div class="text-center">
                            <div class="w-12 h-12 bg-primary rounded-full flex items-center justify-center mx-auto mb-3">
                                <i class="fas fa-truck text-white"></i>
                            </div>
                            <h5 class="font-medium text-white mb-2">3. Safe Delivery</h5>
                            <p class="text-sm text-gray-300">Delivered in insulated containers to maintain freshness and temperature</p>
                        </div>
                    </div>
                    
                    <div class="mt-6 space-y-4">
                        <div class="bg-green-900 bg-opacity-20 border border-green-700 rounded-lg p-4">
                            <h5 class="text-white font-medium mb-2">
                                <i class="fas fa-check-circle text-green-400 mr-2"></i>Skip Before 10:00 AM - Free
                            </h5>
                            <p class="text-gray-300 text-sm mb-2">
                                You can skip your delivery for any day <strong>before 10:00 AM</strong> on the delivery day at no charge. 
                                Simply log into your account dashboard and skip the delivery. No fees apply.
                            </p>
                            <ul class="text-gray-300 text-sm space-y-1 ml-4">
                                <li><i class="fas fa-clock text-green-400 mr-2"></i>Skip deadline: 10:00 AM on delivery day</li>
                                <li><i class="fas fa-dollar-sign text-green-400 mr-2"></i>No cancellation charges</li>
                                <li><i class="fas fa-user text-green-400 mr-2"></i>Manage through your account dashboard</li>
                            </ul>
                        </div>
                        
                        <div class="bg-yellow-900 bg-opacity-20 border border-yellow-700 rounded-lg p-4">
                            <h5 class="text-white font-medium mb-2">
                                <i class="fas fa-exclamation-triangle text-yellow-400 mr-2"></i>Cancel After 10:00 AM - Charged
                            </h5>
                            <p class="text-gray-300 text-sm mb-2">
                                If you cancel your delivery <strong>after 10:00 AM</strong> on the delivery day, you will be charged for the meal. 
                                However, your meal will be donated to those in need, ensuring no food goes to waste.
                            </p>
                            <ul class="text-gray-300 text-sm space-y-1 ml-4">
                                <li><i class="fas fa-clock text-yellow-400 mr-2"></i>Cancellation after 10:00 AM on delivery day</li>
                                <li><i class="fas fa-dollar-sign text-yellow-400 mr-2"></i>Full meal charge applies</li>
                                <li><i class="fas fa-heart text-yellow-400 mr-2"></i>Meal will be donated to those in need</li>
                                <li><i class="fas fa-recycle text-yellow-400 mr-2"></i>No food waste - helping the community</li>
                            </ul>
                        </div>
                        
                        <div class="bg-primary bg-opacity-10 border border-primary rounded-lg p-4">
                            <h5 class="text-white font-medium mb-2">
                                <i class="fas fa-heart text-primary mr-2"></i>Donation Program
                            </h5>
                            <p class="text-gray-300 text-sm">
                                When meals are cancelled after 10:00 AM, we partner with local food banks and community organizations 
                                to ensure these meals reach people who need them most. Your cancellation helps feed someone in need, 
                                making a positive impact in our community.
                            </p>
                        </div>
                    </div>
                </div>

                <h3 class="text-xl font-semibold text-white mt-8 mb-4">
                    <i class="fas fa-dollar-sign text-primary mr-2"></i>Delivery Charges
                </h3>
                <div class="bg-gray-800 rounded-lg p-6 mb-6">
                    <div class="grid md:grid-cols-2 gap-6">
                        <div>
                            <h4 class="text-lg font-medium text-white mb-3">Subscription Delivery</h4>
                            <ul class="space-y-2 text-gray-300">
                                <li><i class="fas fa-check text-primary mr-2"></i>Free delivery included in all subscriptions</li>
                                <li><i class="fas fa-check text-primary mr-2"></i>No additional delivery charges</li>
                                <li><i class="fas fa-check text-primary mr-2"></i>Regular scheduled deliveries</li>
                                <li><i class="fas fa-check text-primary mr-2"></i>Flexible delivery schedules</li>
                                <li><i class="fas fa-check text-primary mr-2"></i>Available in all service areas</li>
                            </ul>
                        </div>
                        <div>
                            <h4 class="text-lg font-medium text-white mb-3">Trial Orders</h4>
                            <ul class="space-y-2 text-gray-300">
                                <li><i class="fas fa-star text-primary mr-2"></i>Free delivery for trial orders</li>
                                <li><i class="fas fa-clock text-primary mr-2"></i>Next-day delivery available</li>
                                <li><i class="fas fa-gift text-primary mr-2"></i>Special trial pricing</li>
                                <li><i class="fas fa-arrow-right text-primary mr-2"></i>Easy upgrade to subscription</li>
                                <li><i class="fas fa-map-marked-alt text-primary mr-2"></i>Subject to area availability</li>
                            </ul>
                        </div>
                    </div>
                    
                    <div class="mt-6 p-4 bg-primary bg-opacity-10 border border-primary rounded-lg">
                        <h5 class="text-white font-medium mb-2">
                            <i class="fas fa-info-circle text-primary mr-2"></i>Subscription Benefits
                        </h5>
                        <p class="text-gray-300 text-sm">
                            All our meal plans are subscription-based, which means delivery is always included at no extra cost. 
                            You can choose weekly or monthly subscriptions with flexible delivery schedules tailored to your needs. 
                            Delivery is free for all subscription plans across our service areas.
                        </p>
                    </div>
                </div>

                <h3 class="text-xl font-semibold text-white mt-8 mb-4">
                    <i class="fas fa-box text-primary mr-2"></i>Packaging & Quality
                </h3>
                <ul class="list-disc pl-6 mb-6 space-y-2">
                    <li><strong>Insulated Containers:</strong> Maintain optimal temperature during transit, even in extreme Canadian weather</li>
                    <li><strong>Eco-friendly Packaging:</strong> Biodegradable and recyclable materials used whenever possible</li>
                    <li><strong>Hygienic Seals:</strong> Tamper-evident packaging for food safety and security</li>
                    <li><strong>Clear Labeling:</strong> Ingredients, nutritional info, expiry dates, and allergen information clearly marked</li>
                    <li><strong>Temperature Control:</strong> Cold chain maintained for perishable items</li>
                    <li><strong>Weather Protection:</strong> Packaging designed to protect meals in all weather conditions</li>
                </ul>

                <h3 class="text-xl font-semibold text-white mt-8 mb-4">
                    <i class="fas fa-user-check text-primary mr-2"></i>Delivery Instructions
                </h3>
                <div class="bg-gray-800 rounded-lg p-6 mb-6">
                    <h4 class="text-lg font-medium text-white mb-3">For Customers:</h4>
                    <ul class="list-disc pl-6 mb-4 space-y-2">
                        <li>Please provide accurate delivery address including unit/apartment number, postal code, and any access codes</li>
                        <li>Keep someone available at the delivery address during the scheduled time window</li>
                        <li>Check the package for any damage before accepting</li>
                        <li>Store meals in refrigerator immediately upon delivery (within 30 minutes)</li>
                        <li>Consume within the recommended time frame indicated on packaging</li>
                        <li>Ensure your delivery address is accessible and safe for our delivery personnel</li>
                    </ul>
                    
                    <h4 class="text-lg font-medium text-white mb-3">Special Instructions:</h4>
                    <ul class="list-disc pl-6 space-y-2">
                        <li>For office deliveries, please specify building name, floor, and suite/office number</li>
                        <li>For condominiums or apartments, provide buzzer code and any security instructions</li>
                        <li>For gated communities, provide gate codes or security contact information</li>
                        <li>For dietary restrictions or special requests, mention during order placement or account setup</li>
                        <li>For winter deliveries, ensure pathways are cleared of snow and ice</li>
                    </ul>
                </div>

                <h3 class="text-xl font-semibold text-white mt-8 mb-4">
                    <i class="fas fa-exclamation-triangle text-primary mr-2"></i>Delivery Issues
                </h3>
                <div class="bg-red-900 bg-opacity-20 border border-red-700 rounded-lg p-6 mb-6">
                    <h4 class="text-lg font-medium text-white mb-3">What to do if:</h4>
                    <ul class="space-y-3">
                        <li class="flex items-start">
                            <i class="fas fa-clock text-red-400 mr-3 mt-1"></i>
                            <div>
                                <strong class="text-white">Delivery is delayed:</strong>
                                <span class="text-gray-300 block">Contact us immediately. We'll provide updates and compensation if the delay is our responsibility. Weather-related delays will be communicated proactively.</span>
                            </div>
                        </li>
                        <li class="flex items-start">
                            <i class="fas fa-box-open text-red-400 mr-3 mt-1"></i>
                            <div>
                                <strong class="text-white">Package is damaged:</strong>
                                <span class="text-gray-300 block">Do not accept damaged packages. Take photos if possible and contact us immediately. We'll arrange a replacement delivery.</span>
                            </div>
                        </li>
                        <li class="flex items-start">
                            <i class="fas fa-thermometer-half text-red-400 mr-3 mt-1"></i>
                            <div>
                                <strong class="text-white">Food temperature issues:</strong>
                                <span class="text-gray-300 block">If food isn't at proper temperature upon delivery, do not consume. Contact us immediately for replacement. Safety is our priority.</span>
                            </div>
                        </li>
                        <li class="flex items-start">
                            <i class="fas fa-user-times text-red-400 mr-3 mt-1"></i>
                            <div>
                                <strong class="text-white">No one available:</strong>
                                <span class="text-gray-300 block">We'll attempt delivery twice. After that, you can schedule a re-delivery through your account. A re-delivery fee may apply for multiple missed attempts.</span>
                            </div>
                        </li>
                        <li class="flex items-start">
                            <i class="fas fa-snowflake text-red-400 mr-3 mt-1"></i>
                            <div>
                                <strong class="text-white">Weather-related issues:</strong>
                                <span class="text-gray-300 block">In extreme weather conditions, we may delay or reschedule deliveries for safety. You'll be notified and can reschedule at no charge.</span>
                            </div>
                        </li>
                    </ul>
                </div>

                <h3 class="text-xl font-semibold text-white mt-8 mb-4">
                    <i class="fas fa-undo text-primary mr-2"></i>Returns & Refunds
                </h3>
                <div class="bg-gray-800 rounded-lg p-6 mb-6">
                    <ul class="list-disc pl-6 space-y-2">
                        <li><strong>Quality Issues:</strong> Full refund or replacement for quality problems reported within 2 hours of delivery</li>
                        <li><strong>Wrong Items:</strong> Immediate replacement with correct items or full refund</li>
                        <li><strong>Allergies/Intolerances:</strong> Full refund if dietary requirements not met as specified</li>
                        <li><strong>Delivery Problems:</strong> Refund or credit for service failures on our part</li>
                        <li><strong>Time Frame:</strong> Report issues within 2 hours of delivery for best resolution</li>
                        <li><strong>Documentation:</strong> Photos of issues help us resolve problems faster</li>
                    </ul>
                    <p class="text-sm text-gray-400 mt-4">For detailed refund information, see our <a href="{{ url_for('main.cancellation_refund_policy') }}" class="text-primary hover:underline">Cancellation & Refund Policy</a>.</p>
                </div>

                <h3 class="text-xl font-semibold text-white mt-8 mb-4">
                    <i class="fas fa-phone text-primary mr-2"></i>Contact Information
                </h3>
                <div class="bg-gray-800 rounded-lg p-6 mb-6">
                    <div class="grid md:grid-cols-2 gap-6">
                        <div>
                            <h4 class="text-lg font-medium text-white mb-3">Customer Support</h4>
                            <ul class="space-y-2 text-gray-300">
                                <li><i class="fas fa-phone text-primary mr-2"></i>{{ site_settings.get('contact_phone', '+1 (647) 573-2429') }}</li>
                                <li><i class="fas fa-envelope text-primary mr-2"></i><a href="mailto:delivery@fitsmart.ca" class="text-primary hover:underline">delivery@fitsmart.ca</a></li>
                                <li><i class="fas fa-envelope text-primary mr-2"></i><a href="mailto:support@fitsmart.ca" class="text-primary hover:underline">support@fitsmart.ca</a></li>
                                <li><i class="fas fa-clock text-primary mr-2"></i>Monday - Friday: 9:00 AM - 6:00 PM EST</li>
                                <li><i class="fas fa-clock text-primary mr-2"></i>Saturday: 10:00 AM - 4:00 PM EST</li>
                            </ul>
                        </div>
                        <div>
                            <h4 class="text-lg font-medium text-white mb-3">Emergency Contact</h4>
                            <ul class="space-y-2 text-gray-300">
                                <li><i class="fas fa-phone text-primary mr-2"></i>{{ site_settings.get('contact_phone', '+1 (647) 573-2429') }}</li>
                                <li><i class="fas fa-exclamation text-primary mr-2"></i>Urgent delivery issues</li>
                                <li><i class="fas fa-envelope text-primary mr-2"></i><a href="mailto:info@fitsmart.ca" class="text-primary hover:underline">info@fitsmart.ca</a></li>
                                <li><i class="fas fa-map-marker-alt text-primary mr-2"></i>{{ site_settings.get('company_address', 'Canada') }}</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <div class="bg-primary bg-opacity-10 border border-primary rounded-lg p-6 mt-8">
                    <h3 class="text-xl font-semibold text-white mb-3">
                        <i class="fas fa-info-circle text-primary mr-2"></i>Important Notes
                    </h3>
                    <ul class="list-disc pl-6 space-y-2 text-gray-300">
                        <li><strong>Delivery Timing:</strong> All meals (breakfast, lunch, and dinner) are delivered together one day before consumption in the evening (5:00 PM - 9:00 PM)</li>
                        <li><strong>All Meals Included:</strong> Each delivery contains breakfast, lunch, and dinner for the next day in one package</li>
                        <li><strong>Skip Deadline:</strong> You can skip deliveries before 10:00 AM on the delivery day at no charge</li>
                        <li><strong>Cancellation Policy:</strong> Cancellations after 10:00 AM on delivery day will be charged, but meals will be donated to those in need</li>
                        <li>Delivery times may vary during peak hours, holidays, and extreme weather conditions</li>
                        <li>We reserve the right to refuse delivery to unsafe or inaccessible areas</li>
                        <li>Weather conditions (snow, ice, extreme cold) may affect delivery schedules - we prioritize safety</li>
                        <li>Special dietary requests must be made 24 hours in advance</li>
                        <li>Bulk orders or special events require 48-hour advance notice</li>
                        <li>Delivery areas and schedules are subject to change - we'll notify you of any changes</li>
                        <li>During holidays, delivery schedules may be adjusted - check your account for updates</li>
                        <li>We comply with all local health and safety regulations in each province</li>
                    </ul>
                </div>

                <div class="bg-blue-900 bg-opacity-20 border border-blue-700 rounded-lg p-6 mt-6">
                    <h4 class="text-lg font-semibold text-white mb-3">
                        <i class="fas fa-shipping-fast text-blue-400 mr-2"></i>Canadian Shipping Standards
                    </h4>
                    <p class="text-gray-300 mb-3">We adhere to Canadian food safety and shipping standards:</p>
                    <ul class="list-disc pl-6 space-y-2 text-gray-300">
                        <li>Compliance with Canadian Food Inspection Agency (CFIA) regulations</li>
                        <li>Provincial health and safety standards</li>
                        <li>Temperature control requirements for perishable foods</li>
                        <li>Proper labeling and allergen information as required by Canadian law</li>
                    </ul>
                </div>

                <p class="text-sm text-gray-400 mt-8 text-center">Last updated: {{ now.strftime('%B %d, %Y') }}</p>
                <p class="text-sm text-gray-400 text-center">This Shipping & Delivery Policy is governed by the laws of Canada and your province of residence.</p>
            </div>
        </div>
    </div>
</main>
{% endblock %}
