{% extends "admin/base_admin.html" %}

{% block title %}Shipping Labels - HealthyRizz Admin{% endblock %}

{% block content %}
<div class="container mx-auto px-4 py-8">
    <div class="flex justify-between items-center mb-6">
        <h1 class="text-2xl font-bold">Shipping Labels for {{ date.strftime('%A, %B %d, %Y') }}</h1>
        <div class="flex space-x-4">
            <a href="{{ url_for('admin.admin_orders', date=date.strftime('%Y-%m-%d')) }}" class="btn-secondary">
                <i class="fas fa-arrow-left mr-2"></i>Back to Orders
            </a>
            <button onclick="window.print()" class="btn-primary">
                <i class="fas fa-print mr-2"></i>Print Labels
            </button>
        </div>
    </div>

    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
        {% for label in labels %}
        <div class="bg-white border rounded-lg p-6 print:break-inside-avoid">
            <!-- Header with Logo -->
            <div class="flex justify-between items-start mb-4">
                <div>
                    <img src="{{ url_for('static', filename='images/healthyrizzlogo.webp') }}" alt="HealthyRizz Logo" class="h-12 mb-2">
                    <h3 class="text-lg font-semibold">Order #{{ label.order_id }}</h3>
                    <p class="text-sm text-gray-600">{{ label.meal_plan }}</p>
                </div>
                <div class="text-right">
                    <div class="text-sm font-medium">HealthyRizz</div>
                    <div class="text-xs text-gray-600">123 Main Street</div>
                    <div class="text-xs text-gray-600">Toronto, ON M5V 2H1</div>
                </div>
            </div>

            <!-- Meal Information -->
            <div class="border-t border-b py-4 my-4">
                <div class="text-sm font-medium mb-2">Meal Details:</div>
                <div class="grid grid-cols-2 gap-2 text-sm">
                    <div>
                        <span class="font-medium">Diet Type:</span>
                        <span class="text-gray-600">{{ label.diet_type }}</span>
                    </div>
                    <div>
                        <span class="font-medium">Meal Type:</span>
                        <span class="text-gray-600">{{ label.meal_type }}</span>
                    </div>
                    <div>
                        <span class="font-medium">Calories:</span>
                        <span class="text-gray-600">{{ label.calories }} kcal</span>
                    </div>
                    <div>
                        <span class="font-medium">Protein:</span>
                        <span class="text-gray-600">{{ label.protein }}g</span>
                    </div>
                    <div>
                        <span class="font-medium">Carbs:</span>
                        <span class="text-gray-600">{{ label.carbs }}g</span>
                    </div>
                    <div>
                        <span class="font-medium">Fats:</span>
                        <span class="text-gray-600">{{ label.fats }}g</span>
                    </div>
                </div>
            </div>

            <!-- Delivery Information -->
            <div class="border-t border-b py-4 my-4">
                <div class="text-sm font-medium mb-2">Ship To:</div>
                <div class="text-sm">
                    {{ label.customer_name }}<br>
                    {{ label.address }}
                </div>
            </div>

            <!-- Footer Information -->
            <div class="flex justify-between items-center">
                <div class="text-sm text-gray-600">
                    <div>Delivery Date: {{ date.strftime('%Y-%m-%d') }}</div>
                    <div>Label Generated: {{ now().strftime('%Y-%m-%d %H:%M') }}</div>
                </div>
                <div class="text-right">
                    <div class="text-sm font-medium">Tracking #</div>
                    <div class="text-xs text-gray-600">{{ label.tracking_number or 'Pending' }}</div>
                </div>
            </div>

            <!-- Barcode and QR Code -->
            <div class="mt-4 flex justify-between items-center">
                <div class="text-center">
                    <div class="inline-block p-2 bg-gray-100 rounded">
                        <i class="fas fa-barcode text-4xl"></i>
                    </div>
                    <div class="text-xs text-gray-600 mt-1">Order #{{ label.order_id }}</div>
                </div>
                <div class="text-center">
                    <div class="inline-block p-2 bg-gray-100 rounded">
                        <i class="fas fa-qrcode text-4xl"></i>
                    </div>
                    <div class="text-xs text-gray-600 mt-1">Track Order</div>
                </div>
            </div>

            <!-- Branding Footer -->
            <div class="mt-4 pt-4 border-t text-center">
                <div class="text-xs text-gray-600">
                    <p>HealthyRizz - Your Health, Our Priority</p>
                    <p>www.healthyrizz.ca | support@healthyrizz.ca</p>
                </div>
            </div>
        </div>
        {% endfor %}
    </div>
</div>

<style>
@media print {
    body {
        background: white;
    }
    .container {
        width: 100%;
        max-width: none;
        padding: 0;
        margin: 0;
    }
    .btn-secondary, .btn-primary {
        display: none;
    }
    .print\:break-inside-avoid {
        break-inside: avoid;
    }
    @page {
        margin: 0.5cm;
    }
}
</style>
{% endblock %} 
