{% extends "base.html" %}

{% block content %}
<div class="container mt-5">
    <div class="row justify-content-center">
        <div class="col-md-6">
            <div class="card">
                <div class="card-header">
                    <h3 class="text-center">Check Delivery Availability</h3>
                </div>
                <div class="card-body">
                    <form id="location-form" onsubmit="return false;">
                        <div class="form-group mb-3">
                            <label for="postal_code">Postal Code</label>
                            <input type="text" class="form-control" id="postal_code" 
                                   placeholder="Enter your postal code (e.g., A1A 1A1)" 
                                   pattern="[A-Za-z]\d[A-Za-z][ -]?\d[A-Za-z]\d"
                                   maxlength="7" required>
                            <small class="form-text text-muted">Format: A1A 1A1</small>
                        </div>
                        
                        <div class="form-group mb-3">
                            <label for="city">City</label>
                            <input type="text" class="form-control" id="city" 
                                   placeholder="Enter your city" required>
                        </div>
                        
                        <div class="form-group mb-3">
                            <label for="province">Province</label>
                            <select class="form-control" id="province" required>
                                <option value="">Select your province</option>
                                <option value="AB">Alberta</option>
                                <option value="BC">British Columbia</option>
                                <option value="MB">Manitoba</option>
                                <option value="NB">New Brunswick</option>
                                <option value="NL">Newfoundland and Labrador</option>
                                <option value="NS">Nova Scotia</option>
                                <option value="ON">Ontario</option>
                                <option value="PE">Prince Edward Island</option>
                                <option value="QC">Quebec</option>
                                <option value="SK">Saskatchewan</option>
                                <option value="NT">Northwest Territories</option>
                                <option value="NU">Nunavut</option>
                                <option value="YT">Yukon</option>
                            </select>
                        </div>
                        
                        <div class="text-center">
                            <button type="button" id="check-location-btn" 
                                    class="btn btn-primary" onclick="checkDeliveryLocation()">
                                Check Availability
                            </button>
                        </div>
                    </form>
                    
                    <div id="location-message" class="alert mt-3" style="display: none;"></div>
                    
                    <div class="text-center mt-3">
                        <button type="button" id="continue-btn" class="btn btn-success" 
                                disabled onclick="window.location.href='/checkout'">
                            Continue to Checkout
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script src="{{ url_for('static', filename='js/location.js') }}"></script>
{% endblock %} 