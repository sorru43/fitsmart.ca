{% extends "admin/base_admin.html" %}

{% block title %}Logo Management - Admin{% endblock %}

{% block content %}
<div class="container mx-auto px-4 sm:px-6 lg:px-8 py-8">
    <!-- Header -->
    <div class="mb-8">
        <h1 class="text-2xl font-bold text-white mb-2">
            <i class="fas fa-image text-primary mr-3"></i>Logo Management
        </h1>
        <p class="text-gray-400">Upload and manage your site logo and favicon</p>
    </div>

    <!-- Flash Messages -->
    {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
            {% for category, message in messages %}
                <div class="bg-dark-lighter rounded-lg p-4 mb-6 border-l-4 border-primary">
                    <div class="flex items-center">
                        <i class="fas fa-info-circle text-primary mr-3"></i>
                        <span class="text-white">{{ message }}</span>
                    </div>
                </div>
            {% endfor %}
        {% endif %}
    {% endwith %}

    <form method="POST" enctype="multipart/form-data">
        <!-- Logo Section -->
        <div class="bg-dark-lighter rounded-lg shadow-md p-6 mb-6">
            <div class="flex items-center mb-4">
                <h2 class="text-lg font-semibold text-white">
                    <i class="fas fa-image text-primary mr-2"></i>Site Logo
                </h2>
            </div>
            
            <!-- Current Logo Display -->
            <div class="mb-6">
                <h3 class="text-white mb-3">Current Logo</h3>
                {% if settings.get('site_logo') %}
                    <div class="flex items-center">
                        <img src="{{ settings.get('site_logo') }}" alt="Current Logo" 
                             class="mr-4" style="max-width: 200px; max-height: 80px; object-fit: contain; border: 1px solid #333333; border-radius: 0.375rem; padding: 0.5rem;">
                        <div>
                            <p class="text-gray-400 text-sm mb-1">Current logo path:</p>
                            <p class="text-white text-sm font-mono">{{ settings.get('site_logo') }}</p>
                        </div>
                    </div>
                {% else %}
                    <p class="text-gray-400 italic">No logo currently set</p>
                {% endif %}
            </div>
            
            <!-- Logo Upload -->
            <div class="mb-6">
                <h3 class="text-white mb-3">Upload New Logo</h3>
                <div class="mb-4">
                    <label for="site_logo" class="block text-sm font-medium text-white mb-2">Choose Logo File</label>
                    <input type="file" class="form-input" 
                           id="site_logo" name="site_logo" accept=".png,.jpg,.jpeg,.gif,.svg">
                    <p class="text-gray-400 text-sm mt-1">Supported formats: PNG, JPG, JPEG, GIF, SVG. Recommended size: 200x60px or larger.</p>
                </div>
                
                <div class="text-center my-4">
                    <span class="text-gray-400">OR</span>
                </div>
                
                <div class="mb-4">
                    <label for="logo_url" class="block text-sm font-medium text-white mb-2">
                        Logo URL <span class="text-gray-400 text-xs">(Optional)</span>
                    </label>
                    <input type="url" class="form-input" 
                           id="logo_url" name="logo_url" 
                           value="{{ settings.get('site_logo', '') if not settings.get('site_logo', '').startswith('/static/') else '' }}"
                           placeholder="https://example.com/logo.png (optional)">
                    <p class="text-gray-400 text-sm mt-1">Enter a direct URL to your logo image (leave empty if uploading file above)</p>
                </div>
            </div>
        </div>

        <!-- Favicon Section -->
        <div class="bg-dark-lighter rounded-lg shadow-md p-6 mb-6">
            <div class="flex items-center mb-4">
                <h2 class="text-lg font-semibold text-white">
                    <i class="fas fa-star text-primary mr-2"></i>Site Favicon
                </h2>
            </div>
            
            <!-- Current Favicon Display -->
            <div class="mb-6">
                <h3 class="text-white mb-3">Current Favicon</h3>
                {% if settings.get('site_favicon') %}
                    <div class="flex items-center">
                        <img src="{{ settings.get('site_favicon') }}" alt="Current Favicon" 
                             class="mr-4" style="width: 32px; height: 32px; object-fit: contain; border: 1px solid #333333; border-radius: 0.375rem; padding: 0.25rem;">
                        <div>
                            <p class="text-gray-400 text-sm mb-1">Current favicon path:</p>
                            <p class="text-white text-sm font-mono">{{ settings.get('site_favicon') }}</p>
                        </div>
                    </div>
                {% else %}
                    <p class="text-gray-400 italic">No favicon currently set</p>
                {% endif %}
            </div>
            
            <!-- Favicon Upload -->
            <div class="mb-6">
                <h3 class="text-white mb-3">Upload New Favicon</h3>
                <div class="mb-4">
                    <label for="site_favicon" class="block text-sm font-medium text-white mb-2">Choose Favicon File</label>
                    <input type="file" class="form-input" 
                           id="site_favicon" name="site_favicon" accept=".ico,.png,.jpg,.jpeg">
                    <p class="text-gray-400 text-sm mt-1">Supported formats: ICO, PNG, JPG, JPEG. Recommended size: 32x32px or 16x16px.</p>
                </div>
                
                <div class="text-center my-4">
                    <span class="text-gray-400">OR</span>
                </div>
                
                <div class="mb-4">
                    <label for="favicon_url" class="block text-sm font-medium text-white mb-2">
                        Favicon URL <span class="text-gray-400 text-xs">(Optional)</span>
                    </label>
                    <input type="url" class="form-input" 
                           id="favicon_url" name="favicon_url" 
                           value="{{ settings.get('site_favicon', '') if not settings.get('site_favicon', '').startswith('/static/') else '' }}"
                           placeholder="https://example.com/favicon.ico (optional)">
                    <p class="text-gray-400 text-sm mt-1">Enter a direct URL to your favicon (leave empty if uploading file above)</p>
                </div>
            </div>
        </div>

        <!-- Logo Guidelines -->
        <div class="bg-dark-lighter rounded-lg shadow-md p-6 mb-6 border-l-4 border-primary">
            <div class="flex items-center mb-4">
                <h2 class="text-lg font-semibold text-primary">
                    <i class="fas fa-info-circle mr-2"></i>Logo Guidelines
                </h2>
            </div>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div>
                    <h3 class="text-primary mb-2">Logo Requirements:</h3>
                    <ul class="text-gray-400 text-sm space-y-1">
                        <li>• Recommended size: 200x60px or larger</li>
                        <li>• Supported formats: PNG, JPG, JPEG, GIF, SVG</li>
                        <li>• Maximum file size: 2MB</li>
                        <li>• Use transparent background for best results</li>
                        <li>• Ensure good contrast for visibility</li>
                    </ul>
                </div>
                <div>
                    <h3 class="text-primary mb-2">Favicon Requirements:</h3>
                    <ul class="text-gray-400 text-sm space-y-1">
                        <li>• Recommended size: 32x32px or 16x16px</li>
                        <li>• Supported formats: ICO, PNG, JPG, JPEG</li>
                        <li>• Maximum file size: 1MB</li>
                        <li>• ICO format is preferred for best compatibility</li>
                        <li>• Keep design simple and recognizable</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- Submit Buttons -->
        <div class="flex justify-end space-x-4">
            <a href="{{ url_for('admin.admin_media') }}" 
               class="btn-secondary">
                <i class="fas fa-arrow-left mr-2"></i>Back to Media
            </a>
            <button type="submit" class="btn-primary">
                <i class="fas fa-save mr-2"></i>Save Changes
            </button>
        </div>
    </form>
</div>
{% endblock %} 